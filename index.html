<!DOCTYPE html>
<html>
    <head>
    </head>
    <body>
        <script>
            function game(){
                // Default points and tied position:
                let computerPoints = 0;
                let playerPoints = 0;
                let gameWinner = "Tied";
                // Determine computer's move:
                function computerPlay(){
                    let computerChoice = "rock";
                    const randomNum = Math.random();
                    if (randomNum < 0.67)  computerChoice = "paper";
                    if (randomNum < 0.34)  computerChoice = "scissors";
                    return computerChoice;
                }
                function playRound(playerSelection, computerSelection){
                    // Default values:
                    let winner = "Tie";
                    let winningMove, losingMove, playerStatus;
                    // Decide winner of round:
                    switch(playerSelection){
                        case "rock":
                        if (computerSelection === "paper") winner = "Computer";
                        if (computerSelection === "scissors") winner = "Player";
                        break;
                        case "paper":
                        if (computerSelection === "scissors") winner = "Computer";
                        if (computerSelection === "rock") winner = "Player";
                        break;
                        case "scissors":
                        if (computerSelection === "rock") winner = "Computer";
                        if (computerSelection === "paper") winner = "Player";
                        break;
                    }
                    // Update player and round data:
                    if (winner === "Computer"){
                        computerPoints++;
                        winningMove = computerSelection;
                        losingMove = playerSelection;
                        playerStatus = "Lost";
                    }
                    if (winner === "Player"){
                        playerPoints++;
                        winningMove = playerSelection;
                        losingMove = computerSelection;
                        playerStatus = "Won";
                    }
                    // Return winning statement:
                    if (winner === "Tie"){
                        return "You tied.";
                    } else {
                        return `You ${playerStatus}! ${winningMove} beats ${losingMove}.`;
                    }
                }
                // Get input one time from player:
                const playerSelection = window.prompt("Please enter rock, paper, or scisssors: ").toLowerCase();
                const numberOfPlays = window.prompt("How many times would you like this simulation to run?");
                // Run simulation over a loop:
                for (let i = 0; i < numberOfPlays; i++){
                    const computerSelection = computerPlay();
                    console.log(playRound(playerSelection, computerSelection));
                }
                // Determine game winner:
                if(computerPoints > playerPoints) gameWinner = "Computer";
                if(playerPoints > computerPoints) gameWinner = "Player";
                console.log(`The overall winner is ${gameWinner}.`);
            }
            game();
        </script>
    </body>
</html>
